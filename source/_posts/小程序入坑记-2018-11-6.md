---
title: 小程序入坑记
date: 2018-11-06 18:12:51
categories:
- 小程序
tags:
- 小程序
- mpvue
- vant
---
最近工作和个人都有想法搞一个小程序出来，捡起多年不写的javascript大法研究下。

# 注册帐号
想开发公众号或者小程序，首先需要一个微信公众帐号，公众号帐号和小程序帐号并不互通，需要单独注册。注册过程不详细介绍了。十分钟注册了一个主体是个人的小程序帐号。
#  环境
有了帐号，还得知道如何进行开发，用什么工具开发，什么工具调试？先查看了下官方的说明，需要专门的小程序开发工具，很不幸，只提供了windows和mac版本（linux用户表示很气愤）。难道linux党只能转用windows搞定吗？（mac买不起）还好有无敌的github。查到了一个神器，[wechat_web_devtools](https://github.com/cytle/wechat_web_devtools)。开源，支持linux。试用了下，基本可行，除了腾讯的代码库打不开之外，未发现其他问题。五星好评。
#  语法
有了帐号，有了开发环境，够了吗？还不够，还得研究下语法，鹅厂的官方文档翻了一遍，基本确定了js,wxml,wcss,json四个文件为一体的构建结构。但是要做大的项目，这个组织形式有点难受了。一个页面加载４个文件搞定，但是如何集成node的构建环境是个问题，总不至于真的一个页面写４个文件去搞吧。感觉写起来好累的感觉。
#  框架
相信开源的力量，通过[http://www.cnblogs.com/zxj95121/p/9224163.html](http://www.cnblogs.com/zxj95121/p/9224163.html)索引帖，查到了相关的资源，初步目标定在了[wepy](https://github.com/Tencent/wepy)上面，后面有发现了[mpvue](http://mpvue.com/build/)。前者是亲儿子，腾讯背书，算是自创的一套语法；后面是美团的亲儿子，基于vue搞出来的。

其实对于没有vue基础的我来说，选择哪一个似乎都可以。但是mpvue和vue靠的近啊，有vue资源可以参考；而且mpvue有可能会有多端的迁移方案，比wepy复用性好了。初步选定了mpvue来搞。
# mpvue
使用 mpvue 开发小程序，你将在小程序技术体系的基础上获取到这样一些能力：

* 彻底的组件化开发能力：提高代码复用性
* 完整的 Vue.js 开发体验
* 方便的 Vuex 数据管理方案：方便构建复杂应用
* 快捷的 webpack 构建机制：自定义构建策略、开发阶段 hotReload
* 支持使用 npm 外部依赖
* 使用 Vue.js 命令行工具 vue-cli 快速初始化项目
* H5 代码转换编译成小程序目标代码的能力

将页面的三元素合并到一起的做法看着很jsp的感觉，对老java程序员有莫名的好感。

个人感觉的问题：
* 每个目录下一个页面，每个页面需要三个文件定义:main.js,index.vue,main.json(可选)，其实并没有降低太多的目录复杂性。
* quickstart构建流程没有有点晦涩，可能vue的构建环境就是这个样子吧。
* vue的一些语法还是需要读懂的，关于数据的控制逻辑和生命周期等。

